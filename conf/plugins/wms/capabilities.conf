get_capabilities:
{
      version = "1.3.0";
      headers = "xmlns=\"http://www.opengis.net/wms\" xmlns:sld=\"http://www.opengis.net/sld\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:ms=\"http://mapserver.gis.umn.edu/mapserver\" xmlns:inspire_common=\"http://inspire.ec.europa.eu/schemas/common/1.0\" xmlns:inspire_vs=\"http://inspire.ec.europa.eu/schemas/inspire_vs/1.0\" xsi:schemaLocation=\"http://www.opengis.net/wms http://schemas.opengis.net/wms/1.3.0/capabilities_1_3_0.xsd http://www.opengis.net/sld http://schemas.opengis.net/sld/1.1.0/sld_capabilities.xsd http://inspire.ec.europa.eu/schemas/inspire_vs/1.0 http://inspire.ec.europa.eu/schemas/inspire_vs/1.0/inspire_vs.xsd\"",

      disable_updates = false;                   // do only one capabilities scan?
      update_interval = 5;                       // every 5s for querydata and observation layer
      expiration_time = 60;                      // one minute .
      postgis_layer:
      {	
         update_interval = 120;                  // for postgis layers check every two minutes if it is necessary to update
	 pgname          = "icemap";             // if layer's pgname is 'icemap'
         schema          = "icemap";             // and layer's schema is 'icemap'
         table           = "icemappublications"; // then make a query to 'icemappublications' table
         field           = "publicationdate";    // and fetch the latest publicationdate
         where           = "publicationdate = (select max(publicationdate) from icemap.icemappublications)";
      };

      service:
      {
         title = "Finnish Meteorological Institute Web Map Service";
         // optional
         abstract = "Finnish Meteorological Institute's Web Map Service";
         // optional
         keywords = ["Weather","Forecast"];
         // obligatory
         online_resource = "https://en.ilmatieteenlaitos.fi/open-data";
         // optional
         contact_information:
         {
            // optional             
            contact_person_primary:
            {
               contact_person = "Santeri Oksman";
               contact_organization = "Finnish Meteorological Institute (FMI)";
            };
            // optional
            contact_position = "Customer Service";
            // optional
            contact_address:
            {
               address_type = "postal";
               address = "PL 503";
               city = "Helsinki";
               state_or_province = "Uusimaa";
               post_code = "00101";
               country = "Finland";
            };
             // optional
            contact_voice_telephone = "+358 29 539 1000";
            // optional
            contact_facsimile_telephone = "+358 29 539 2303";
            // optional
            contact_electronic_mail_address = "santeri.oksman@fmi.fi";
         }; // contact_information

         // optional
         fees = "The use of this service and the returned data is limited. Contract with FMI is required for any kind of use.";
         // optional
         access_constraints = "The use of this service and the returned data is limited. Contract with FMI is required for any kind of use.";
         // optional
         layer_limit = 1000;
         // optional
         max_width = 10000;
         // optional
         max_height = 10000;
      }; // service

      capability:
      {
         request:
         {
            getcapabilities:
            {
               format = ["text/xml", "application/json"];
               dcptype:
               (
                  {
                     http:
                     {
                        get: { online_resource = "http://smartmet.fmi.fi/wms"; };
                        // optional
                        post: { online_resource = "http://smartmet.fmi.fi/wms"; };
                     }   
                  }
               ); // dcptype
            }; // getcapabilities

            getmap:
            {
               format = ["image/png", "image/webp", "image/svg+xml", "application/pdf", "application/geo+json", "application/topo+json"];
               dcptype:
               (
                  {
                     http:
                     {
                        get: { online_resource = "http://smartmet.fmi.fi/wms"; };
                        // optional
                        post: { online_resource = "http://smartmet.fmi.fi/wms"; };
                     }   
                  }
               ); // dcptype
            }; // getcapabilities

            // optional getfeatureinfo here similarly to getcapabilities and getmap

         }; // request
         exception = ["XML", "application/json"];

         // optional
         extended_capabilities:
         {
            // optional
            inspire:
            {
               metadata_url = "http://catalog.fmi.fi/geonetwork/srv/en/csw?SERVICE=CSW&amp;VERSION=2.0.2&amp;REQUEST=GetRecordById&amp;ID=1234dfc1-4c08-4491-8ca0-b8ea2941c24a&amp;outputSchema=http://www.isotc211.org/2005/gmd&amp;elementSetName=full";
               default_language = "eng";
               supported_language = "eng";
               response_language = "eng";
            };
         };

         // everything grouped into one master layer
         master_layer:
         {
            title = "Finnish Meteorological Institute Web Map Service";

            // optional
            // abstract = "";

            // The following properties are inherited by the inner layers (WMS standard)
            // All are optional though, but these are the defaults for this site.

            queryable = 0;
            opaque = 1; // isolines, symbols, numbers should use 0
            cascaded = 0;
            no_subsets = 0;
            fixed_width = 0;
            fixed_height = 0;
         };

      }; // capability

}; // get_capabilities
